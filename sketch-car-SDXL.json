{"id":"ead76f54-5908-419c-9ad8-71aef1333d4b","revision":0,"last_node_id":44,"last_link_id":91,"nodes":[{"id":33,"type":"MarkdownNote","pos":[-520,-350],"size":[336,152],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["### Learn more about this workflow\n\n> [ControlNet - ComfyUI_examples](https://comfyanonymous.github.io/ComfyUI_examples/controlnet/) — Overview\n> \n> [ControlNet Usage - docs.comfy.org](https://docs.comfy.org/tutorials/controlnet/controlnet) — Explanation of concepts and step-by-step tutorial"],"color":"#432","bgcolor":"#653"},{"id":13,"type":"VAELoader","pos":[-150,-140],"size":[380,58],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"vae_name","name":"vae_name","type":"COMBO","widget":{"name":"vae_name"},"link":null}],"outputs":[{"label":"VAE","localized_name":"VAE","name":"VAE","type":"VAE","slot_index":0,"links":[]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.44","Node name for S&R":"VAELoader","models":[{"name":"vae-ft-mse-840000-ema-pruned.safetensors","url":"https://huggingface.co/stabilityai/sd-vae-ft-mse-original/resolve/main/vae-ft-mse-840000-ema-pruned.safetensors?download=true","directory":"vae"}]},"widgets_values":["SDXL/sdxl_vae.safetensors"]},{"id":36,"type":"MarkdownNote","pos":[679.1985989841381,357.7855127660013],"size":[210,92.38697793778454],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Select the Canny node, and click the \"?\" on the selection toolbox to learn about the Canny preprocessor."],"color":"#432","bgcolor":"#653"},{"id":34,"type":"Canny","pos":[287.5769162062263,379.36861243792697],"size":[270,82],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":57},{"localized_name":"low_threshold","name":"low_threshold","type":"FLOAT","widget":{"name":"low_threshold"},"link":null},{"localized_name":"high_threshold","name":"high_threshold","type":"FLOAT","widget":{"name":"high_threshold"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[58,59]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.44","Node name for S&R":"Canny"},"widgets_values":[0.2,0.4]},{"id":14,"type":"CheckpointLoaderSimple","pos":[-150,-290],"size":[380,100],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null}],"outputs":[{"label":"MODEL","localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[80]},{"label":"CLIP","localized_name":"CLIP","name":"CLIP","type":"CLIP","slot_index":1,"links":[81,82]},{"label":"VAE","localized_name":"VAE","name":"VAE","type":"VAE","slot_index":2,"links":[75,79]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.44","Node name for S&R":"CheckpointLoaderSimple","models":[{"name":"DreamShaper_8_pruned.safetensors","url":"https://huggingface.co/Lykon/DreamShaper/resolve/main/DreamShaper_8_pruned.safetensors","directory":"checkpoints"}]},"widgets_values":["sd_xl_turbo_1.0_fp16.safetensors"]},{"id":11,"type":"LoadImage","pos":[-140,380],"size":[387.97003173828125,465.5097961425781],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"label":"IMAGE","localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[57]},{"label":"MASK","localized_name":"MASK","name":"MASK","type":"MASK","slot_index":1,"links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.44","Node name for S&R":"LoadImage"},"widgets_values":["Screenshot 2025-11-18 at 8.09.49 PM.png","image"]},{"id":5,"type":"EmptyLatentImage","pos":[-150,150],"size":[300,110],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"label":"LATENT","localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[2]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.44","Node name for S&R":"EmptyLatentImage"},"widgets_values":[1048,752,1]},{"id":8,"type":"VAEDecode","pos":[1206.782972637001,-389.1994834200675],"size":[210,46],"flags":{},"order":13,"mode":0,"inputs":[{"label":"samples","localized_name":"samples","name":"samples","type":"LATENT","link":7},{"label":"vae","localized_name":"vae","name":"vae","type":"VAE","link":75}],"outputs":[{"label":"IMAGE","localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[89]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.44","Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":42,"type":"ImageScaleBy","pos":[1477.3366281042647,-436.5365593128396],"size":[270,82],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":89},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"scale_by","name":"scale_by","type":"FLOAT","widget":{"name":"scale_by"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[91]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.67","Node name for S&R":"ImageScaleBy"},"widgets_values":["lanczos",2]},{"id":35,"type":"PreviewImage","pos":[283.04576793984313,514.4914431400491],"size":[350,320],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":58}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.44","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":12,"type":"ControlNetLoader","pos":[-150,-30],"size":[370,60],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"control_net_name","name":"control_net_name","type":"COMBO","widget":{"name":"control_net_name"},"link":null}],"outputs":[{"label":"CONTROL_NET","localized_name":"CONTROL_NET","name":"CONTROL_NET","type":"CONTROL_NET","slot_index":0,"links":[51]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.44","Node name for S&R":"ControlNetLoader","models":[{"name":"control_v11p_sd15_scribble_fp16.safetensors","url":"https://huggingface.co/comfyanonymous/ControlNet-v1-1_fp16_safetensors/resolve/main/control_v11p_sd15_scribble_fp16.safetensors?download=true","directory":"controlnet"}]},"widgets_values":["SDXL/controlnet-scribble-sdxl-1.0/diffusion_pytorch_model.safetensors"]},{"id":32,"type":"ControlNetApplyAdvanced","pos":[771.7526767474207,-133.02826884418928],"size":[315,186],"flags":{},"order":11,"mode":0,"inputs":[{"label":"positive","localized_name":"positive","name":"positive","type":"CONDITIONING","link":53},{"label":"negative","localized_name":"negative","name":"negative","type":"CONDITIONING","link":54},{"label":"control_net","localized_name":"control_net","name":"control_net","type":"CONTROL_NET","link":51},{"label":"image","localized_name":"image","name":"image","type":"IMAGE","link":59},{"label":"vae","localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":79},{"localized_name":"strength","name":"strength","type":"FLOAT","widget":{"name":"strength"},"link":null},{"localized_name":"start_percent","name":"start_percent","type":"FLOAT","widget":{"name":"start_percent"},"link":null},{"localized_name":"end_percent","name":"end_percent","type":"FLOAT","widget":{"name":"end_percent"},"link":null}],"outputs":[{"label":"positive","localized_name":"positive","name":"positive","type":"CONDITIONING","slot_index":0,"links":[55]},{"label":"negative","localized_name":"negative","name":"negative","type":"CONDITIONING","slot_index":1,"links":[56]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.44","Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[0.6,0,1]},{"id":43,"type":"SaveImage","pos":[1455.4181712727013,-282.4127423317852],"size":[920.7180717073029,737.1893067065419],"flags":{},"order":15,"mode":0,"inputs":[{"label":"images","localized_name":"images","name":"images","type":"IMAGE","link":91},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.44","Node name for S&R":"SaveImage"},"widgets_values":["car"]},{"id":6,"type":"CLIPTextEncode","pos":[313.0710341816469,-319.4963920066763],"size":[422.84503173828125,164.31304931640625],"flags":{},"order":7,"mode":0,"inputs":[{"label":"clip","localized_name":"clip","name":"clip","type":"CLIP","link":81},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"label":"CONDITIONING","localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[53]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.44","Node name for S&R":"CLIPTextEncode"},"widgets_values":["(car:1.8) (clean lines:1.2),single car, metal geometric wheel rims, (realistic:1.5), best quality, photo-realistic 8k, masterpiece, realistic, photo-realistic, round wheels, automotive marketing photo, vibrant colored metallic paint on car, car driving through epic tropical landscape, shallow depth of field, vignette, highly detailed, high budget, bokeh, cinemascope, moody, epic, gorgeous, film grain, grainy"],"color":"#232","bgcolor":"#353"},{"id":3,"type":"KSampler","pos":[1110.8609224396348,-186.79750564417967],"size":[315,474],"flags":{},"order":12,"mode":0,"inputs":[{"label":"model","localized_name":"model","name":"model","type":"MODEL","link":80},{"label":"positive","localized_name":"positive","name":"positive","type":"CONDITIONING","link":55},{"label":"negative","localized_name":"negative","name":"negative","type":"CONDITIONING","link":56},{"label":"latent_image","localized_name":"latent_image","name":"latent_image","type":"LATENT","link":2},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"label":"LATENT","localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[7]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.44","Node name for S&R":"KSampler"},"widgets_values":[806797978293367,"randomize",5,1.4,"lcm","kl_optimal",1]},{"id":7,"type":"CLIPTextEncode","pos":[316.7538922990583,-108.07583662712699],"size":[420,130],"flags":{},"order":8,"mode":0,"inputs":[{"label":"clip","localized_name":"clip","name":"clip","type":"CLIP","link":82},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"label":"CONDITIONING","localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[54]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.44","Node name for S&R":"CLIPTextEncode"},"widgets_values":["easynegative, warped wheels, (misaligned wheels:1.2), extra wheels, NG_DeepNegative_V1_75T, (scratches:1.4), (bad quality:1.15), (jagged lines:1.1), (worst quality:1.3), (multiple cars:1.2), lowres, text, logo, watermark, extra wheels, ugly, blurry, low quality, dented, bad anatomy, signature, jpeg artifacts, bad quality,worst detail,sketch,censor"],"color":"#223","bgcolor":"#335"}],"links":[[2,5,0,3,3,"LATENT"],[7,3,0,8,0,"LATENT"],[51,12,0,32,2,"CONTROL_NET"],[53,6,0,32,0,"CONDITIONING"],[54,7,0,32,1,"CONDITIONING"],[55,32,0,3,1,"CONDITIONING"],[56,32,1,3,2,"CONDITIONING"],[57,11,0,34,0,"IMAGE"],[58,34,0,35,0,"IMAGE"],[59,34,0,32,3,"IMAGE"],[75,14,2,8,1,"VAE"],[79,14,2,32,4,"VAE"],[80,14,0,3,0,"MODEL"],[81,14,1,6,0,"CLIP"],[82,14,1,7,0,"CLIP"],[89,8,0,42,0,"IMAGE"],[91,42,0,43,0,"IMAGE"]],"groups":[{"id":1,"title":"Step1 - Load models","bounding":[-160,-380,405.511139569264,425.1845591383229],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"Step 2 - Upload and preprocess the image","bounding":[-160,300,820,560],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"Step3 - Prompt","bounding":[303.0710341816469,-389.4963920066763,440,440],"color":"#3f789e","font_size":24,"flags":{}},{"id":4,"title":"Image size","bounding":[-160,80,320,193.60000610351562],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.30315634014268966,"offset":[1424.6878123925276,1404.7390166751297]},"frontendVersion":"1.29.1","node_versions":{"comfy-core":"0.3.14"}},"version":0.4}